# YORI v0.2.1 Quick Test Guide

**Version:** 0.2.1 (HTTP/HTTPS Proxy Server)
**Time:** 5 minutes
**Purpose:** Quick validation that proxy server works

---

## Prerequisites

```bash
# Install YORI
cd ~/Source/yori
pip install -e .

# Verify installation
python -c "import yori; print('✅ YORI installed')"
```

---

## Test 1: Health Check Endpoint (30 seconds)

Start the proxy server:

```bash
python -m yori --config tests/integration/test_config.yaml
```

In another terminal, test the health endpoint:

```bash
curl http://localhost:8443/health
```

**Expected:**
```json
{"status": "healthy", "mode": "observe"}
```

✅ PASS: Server responds with health status
❌ FAIL: Connection refused or error

---

## Test 2: Integration Tests (2 minutes)

Stop the proxy server (Ctrl+C) and run integration tests:

```bash
pytest tests/integration/test_proxy.py -v
```

**Expected:**
```
17 passed in X.XXs
```

✅ PASS: All 17 tests pass
❌ FAIL: Any test fails

---

## Test 3: Request Forwarding (1 minute)

Start proxy in observe mode:

```bash
python -m yori
```

In another terminal, send a test request:

```bash
curl -X POST http://localhost:8443/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer test-key" \
  -d '{"model":"gpt-4","messages":[{"role":"user","content":"test"}]}'
```

**Expected:**
- 502 Bad Gateway (upstream not available) OR
- Response from OpenAI (if you have valid API key)

✅ PASS: Proxy forwards request (502 or 200)
❌ FAIL: Connection refused, 500 error, or no response

---

## Test 4: CLI Help (30 seconds)

```bash
python -m yori --help
```

**Expected:**
```
usage: yori [-h] [--config CONFIG] [--cert CERT] [--key KEY] [--port PORT]
```

✅ PASS: Help text displays
❌ FAIL: Error or no output

---

## Test 5: Standalone Server (30 seconds)

```bash
python python/yori/proxy_server.py
```

**Expected:**
```
Starting YORI proxy server...
Listening on 0.0.0.0:8443
```

Ctrl+C to stop.

✅ PASS: Server starts and listens
❌ FAIL: Error on startup

---

## Results Summary

| Test | Status | Notes |
|------|--------|-------|
| 1. Health Check | ⬜ | |
| 2. Integration Tests | ⬜ | |
| 3. Request Forwarding | ⬜ | |
| 4. CLI Help | ⬜ | |
| 5. Standalone Server | ⬜ | |

**Overall:** ✅ PASS / ❌ FAIL

---

## Next Steps

- **All Pass:** Proceed to full manual testing (V0.2.1_TEST_PLAN.md)
- **Any Fail:** Check logs, verify installation, report issue
